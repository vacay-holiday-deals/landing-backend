{% extends 'layouts.html'%} {% block body %}
{{ ckeditor.load(pkg_type="standard") }}

<!--Html-->
<div class="add--container">
  <div class="btn--offers">
    <div class="form-btns">
      <a
        href="{{ url_for('main.show_offers') }}"
        class="btn btn-primary viewoffers"
        ><i class="fas fa-eye"><span>view offers</span></i></a
      >
    </div>
  </div>
  {% from 'includes/_formhelpers.html' import render_field %}
  <h4 class="heading">Fill the form to add the offers</h4>

  <form
    onsubmit="handleSubmit()"
    action="{{ url_for('main.add_offer') }}"
    class="form"
    method="POST"
    enctype="multipart/form-data"
  >
    <div class="form-group">
      {{render_field(form.file, class_='form-control')}}
    </div>
    <div class="form-group">
      {{render_field(form.title, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.destination, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.overview, class_="form-control-textarea", id='oveditor')}}
    </div>
    <div class="form-group">
      {{render_field(form.itinerary, class_="form-control-textarea", id='iteditor')}}
    </div>
    <div class="form-group">
      {{render_field(form.inclusion, class_="form-control-textarea", id='ineditor')}}
    </div>
    <div class="form-group">
      {{render_field(form.price, class_="form-control-textarea", id='preditor')}}
    </div>
    <div class="form-group">
      {{render_field(form.addinfo, class_="form-control-textarea", id='adineditor')}}
    </div>

    <button
      id="add--btn"
      type="submit"
      class="btn btn-primary btn-block btn-lg"
    >
      Submit
      <span
        id="add-spinner"
        style="visibility: hidden"
        class="spinner-border spinner-border-sm"
      ></span>
    </button>
  </form>
</div>

<script>
  function handleSubmit(e) {
    loginButton = document.getElementById("add--btn");
    loginButton.classList.add("disabled");
    spinner = document.getElementById("add-spinner").style.visibility =
      "visible";
  }
</script>

{% endblock body%}
