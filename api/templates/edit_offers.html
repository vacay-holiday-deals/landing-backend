{% extends 'layouts.html'%} {% block body %}
{{ ckeditor.load(pkg_type="standard") }}
<div class="edit--container">
  <div class="users">
    <div class="form-btns">
      <a
        href="{{ url_for('main.show_offers') }}"
        class="btn btn-primary viewoffers"
        ><i class="fas fa-eye"><span>view offers</span></i></a
      >
    </div>
  </div>
  {% from 'includes/_formhelpers.html' import render_field %}
  <h4 class="heading">Edit offer</h4>

  <form
    action="{{url_for('main.edit_offer', id=offer_id)}}"
    class="form"
    method="POST"
    enctype="multipart/form-data"
    onsubmit="handleSubmit()"
  >
    <div class="form-group">
      {{ render_field(form.file, class_='form-control')}}
      <div class="container-fluid image-container " id="image-container">
        {% for image in images %}
        <div class="card card-item">
          <a href="">
            <img src="{{ image }}" alt="image" class="res-image" />
          </a>
        </div>
        {% endfor %}
      </div>
    </div>
    <div class="form-group">
      {{ render_field(form.title, class_='form-control')}}
    </div>
    <div class="form-group">
      {{ render_field(form.overview, class_='form-control-textarea', id='oveditor')}}
    </div>
    <div class="form-group">
      {{ render_field(form.itinerary, class_='form-control-textarea', id='iteditor')}}
    </div>
    <div class="form-group">
      {{ render_field(form.inclusion, class_='form-control-textarea', id='ineditor')}}
    </div>
    <div class="form-group">
      {{ render_field(form.price, class_='form-control-textarea', id='preditor')}}
    </div>
    <div class="form-group">
      {{ render_field(form.addinfo, class_='form-control-textarea', id='adineditor')}}
    </div>
    <div class="form-group">
      <button
        id="edit--btn"
        type="submit"
        class="btn btn-lg btn-primary btn-block"
      >
        Submit
        <span
          id="edit-spinner"
          style="visibility: hidden"
          class="spinner-border spinner-border-sm"
        ></span>
      </button>
    </div>
  </form>
</div>

<script>
  function handleSubmit(e) {
    loginButton = document.getElementById("edit--btn");
    loginButton.classList.add("disabled");
    spinner = document.getElementById("edit-spinner").style.visibility =
      "visible";
  }
</script>

{% endblock body %}
